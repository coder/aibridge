Simple request + error which occurs before streaming begins (where applicable).

-- request --
{
  "max_tokens": 8192,
  "messages": [
    {
      "role": "user",
      "content": [
        {
          "type": "text",
          "text": "yo"
        }
      ]
    }
  ],
  "model": "claude-sonnet-4-0",
  "temperature": 1
}

-- streaming --
HTTP/2.0 400 Bad Request
Content-Length: 164
Content-Type: application/json
Date: Thu, 13 Nov 2025 05:03:44 GMT
Request-Id: req_011CV5Jab6gR3ZNs9Sj6apiD
Server: cloudflare
Strict-Transport-Security: max-age=31536000; includeSubDomains; preload
X-Envoy-Upstream-Service-Time: 984
X-Robots-Tag: none
X-Should-Retry: false

{"type":"error","error":{"type":"invalid_request_error","message":"prompt is too long: 205429 tokens > 200000 maximum"},"request_id":"req_011CV5Jab6gR3ZNs9Sj6apiD"}


-- non-streaming --
HTTP/2.0 400 Bad Request
Content-Length: 164
Content-Type: application/json
Date: Thu, 13 Nov 2025 05:03:44 GMT
Request-Id: req_011CV5Jab6gR3ZNs9Sj6apiD
Server: cloudflare
Strict-Transport-Security: max-age=31536000; includeSubDomains; preload
X-Envoy-Upstream-Service-Time: 984
X-Robots-Tag: none
X-Should-Retry: false

{"type":"error","error":{"type":"invalid_request_error","message":"prompt is too long: 205429 tokens > 200000 maximum"},"request_id":"req_011CV5Jab6gR3ZNs9Sj6apiD"}

